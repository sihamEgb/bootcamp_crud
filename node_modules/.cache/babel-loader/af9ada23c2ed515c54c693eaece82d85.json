{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\siham\\\\Desktop\\\\Bootcamp\\\\Code\\\\Weekend Assignments\\\\9.crud\\\\src\\\\components\\\\App.js\";\nimport React from \"react\";\nimport mockapi from \"../api/mockapi\";\nimport ContactList from \"./ContactList\";\nimport Button from \"./Button\";\nimport ContactForm from \"./ContactForm\";\nimport Spinner from \"../components/Spinner\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onCancelClick = () => {\n      this.setState({\n        isAddNewContact: false\n      });\n    };\n\n    this.editContact = editedContact => {\n      const filteredContactList = this.state.contactList.map(contact => {\n        if (editedContact.id === contact.id) {\n          return editedContact;\n        }\n\n        return contact;\n      });\n      this.setState({\n        contactList: filteredContactList\n      });\n    };\n\n    this.onAddNewContact = async newContact => {\n      const response = await mockapi.post(\"contacts\", newContact);\n      this.setState({\n        contactList: [...this.state.contactList, response.data],\n        isAddNewContact: false\n      });\n    };\n\n    this.onDeleteContact = async id => {\n      await mockapi.delete(`contacts/${id}`);\n      this.deleteContact(id);\n    };\n\n    this.onEditContact = async editedContact => {\n      await mockapi.put(`contacts/${editedContact.id}`, editedContact);\n      this.editContact(editedContact);\n    };\n\n    this.state = {\n      isAddNewContact: false,\n      contactList: [],\n      subName: \"\",\n      filteredResult: [],\n      isLoading: false\n    };\n    this.getContacts();\n  }\n\n  componentDidMount() {}\n\n  deleteContact(contactId) {\n    const filteredContactList = this.state.contactList.filter(contact => contact.id !== contactId);\n    this.setState({\n      contactList: filteredContactList\n    });\n  }\n\n  async getContacts() {\n    this.setState({\n      isLoading: true\n    });\n    const response = await mockapi.get(\"contacts\");\n    this.setState({\n      contactList: response.data\n    });\n    this.setState({\n      isLoading: false\n    });\n  }\n\n  renderContent() {\n    if (this.state.isAddNewContact) {\n      return /*#__PURE__*/React.createElement(ContactForm, {\n        positiveButton: \"Add\",\n        negativeButton: \"Cancel\",\n        onNegativeClick: this.onCancelClick,\n        onPositiveClick: this.onAddNewContact,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 9\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      text: \"New Contact\",\n      onButtonClick: () => {\n        this.setState({\n          isAddNewContact: true\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(ContactList, {\n      contacts: this.state.contactList,\n      onDeleteContact: this.onDeleteContact,\n      onEditContact: this.onEditContact,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return /*#__PURE__*/React.createElement(Spinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 14\n        }\n      });\n    } else {\n      return this.renderContent();\n    }\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/siham/Desktop/Bootcamp/Code/Weekend Assignments/9.crud/src/components/App.js"],"names":["React","mockapi","ContactList","Button","ContactForm","Spinner","App","Component","constructor","props","onCancelClick","setState","isAddNewContact","editContact","editedContact","filteredContactList","state","contactList","map","contact","id","onAddNewContact","newContact","response","post","data","onDeleteContact","delete","deleteContact","onEditContact","put","subName","filteredResult","isLoading","getContacts","componentDidMount","contactId","filter","get","renderContent","render"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport mockapi from \"../api/mockapi\";\r\nimport ContactList from \"./ContactList\";\r\nimport Button from \"./Button\";\r\nimport ContactForm from \"./ContactForm\";\r\nimport Spinner from \"../components/Spinner\";\r\n\r\nclass App extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      isAddNewContact: false,\r\n      contactList: [],\r\n      subName: \"\",\r\n      filteredResult: [],\r\n      isLoading:false,\r\n    };\r\n    this.getContacts();\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  onCancelClick = () => {\r\n    this.setState({ isAddNewContact: false});\r\n  };\r\n\r\n  editContact = (editedContact) => {\r\n    const filteredContactList = this.state.contactList.map(\r\n      (contact) => {\r\n        if(editedContact.id === contact.id){\r\n          return editedContact;\r\n        }\r\n        return contact;\r\n      }\r\n      );\r\n    this.setState({ contactList: filteredContactList });\r\n  }\r\n  deleteContact(contactId) {\r\n    const filteredContactList = this.state.contactList.filter(\r\n      (contact) => contact.id !== contactId\r\n    );\r\n    this.setState({ contactList: filteredContactList });\r\n  }\r\n  onAddNewContact = async (newContact) => {\r\n    \r\n    const response = await mockapi.post(\"contacts\", newContact);\r\n    this.setState({ contactList: [...this.state.contactList, response.data],isAddNewContact:false});\r\n\r\n  };\r\n  onDeleteContact = async (id) => {\r\n    await mockapi.delete(`contacts/${id}`);\r\n    this.deleteContact(id);\r\n  };\r\n\r\n  onEditContact = async (editedContact) => {\r\n   await mockapi.put(`contacts/${editedContact.id}`, editedContact);\r\n    this.editContact(editedContact);\r\n  };\r\n\r\n  async getContacts() {\r\n    this.setState({isLoading:true});\r\n    const response = await mockapi.get(\"contacts\");\r\n    this.setState({ contactList: response.data });\r\n    this.setState({isLoading:false});\r\n  }\r\n  renderContent() {\r\n    if (this.state.isAddNewContact) {\r\n      return (\r\n        <ContactForm\r\n          positiveButton='Add'\r\n          negativeButton='Cancel'\r\n          onNegativeClick={this.onCancelClick}\r\n          onPositiveClick={this.onAddNewContact}></ContactForm>\r\n      );\r\n    }\r\n   \r\n    return (\r\n      <div>\r\n        <Button\r\n          text='New Contact'\r\n          onButtonClick={() => {\r\n            this.setState({ isAddNewContact: true });\r\n          }}></Button>\r\n        <ContactList\r\n          contacts={this.state.contactList}\r\n          onDeleteContact={this.onDeleteContact}\r\n          onEditContact={this.onEditContact}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n  render() {\r\n    if(this.state.isLoading)\r\n    {\r\n      return <Spinner></Spinner>\r\n    }\r\n    else{\r\n      return this.renderContent();\r\n    }\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}